# BuildTrace Environment Configuration Template
# Copy this file to .env.local or .env.cloud and configure as needed

# =============================================================================
# CORE ENVIRONMENT SETTINGS
# =============================================================================

# Environment type: development, staging, production
ENVIRONMENT=development

# Application settings
DEBUG=true
SECRET_KEY=change-this-secret-key-in-production
HOST=0.0.0.0
PORT=5001

# =============================================================================
# FEATURE FLAGS - Configure what services to use
# =============================================================================

# Database: Use PostgreSQL database (true) or local JSON files (false)
USE_DATABASE=false

# Storage: Use Google Cloud Storage (true) or local filesystem (false)
USE_GCS=false

# Processing: Use async Cloud Tasks (true) or synchronous processing (false)
USE_ASYNC_PROCESSING=false

# Authentication: Use Firebase Auth (true) or no auth (false)
USE_FIREBASE_AUTH=false

# =============================================================================
# DATABASE CONFIGURATION (only used if USE_DATABASE=true)
# =============================================================================

# PostgreSQL connection details
DB_USER=buildtrace_user
DB_PASS=your-database-password
DB_NAME=buildtrace_db
DB_HOST=localhost
DB_PORT=5432

# Cloud SQL connection (for production)
INSTANCE_CONNECTION_NAME=project:region:instance

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Google Cloud Storage (if USE_GCS=true)
GCS_BUCKET_NAME=buildtrace-storage
GCS_UPLOAD_BUCKET=buildtrace-drawings-upload
GCS_PROCESSED_BUCKET=buildtrace-drawings-processed

# Local Storage (if USE_GCS=false)
LOCAL_UPLOAD_PATH=uploads
LOCAL_RESULTS_PATH=results
LOCAL_TEMP_PATH=temp
LOCAL_DATA_DIR=data

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# File upload limits
MAX_CONTENT_LENGTH=52428800
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=pdf,dwg,dxf,png,jpg,jpeg

# Processing settings
PROCESSING_TIMEOUT=3600
DEFAULT_DPI=300
MAX_SYNC_PAGES=10
MEMORY_LIMIT_GB=10.0

# Session management
SESSION_LIFETIME_HOURS=24
CLEANUP_OLD_SESSIONS=true

# =============================================================================
# AI ANALYSIS CONFIGURATION
# =============================================================================

# OpenAI API settings (REQUIRED)
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4o
USE_AI_ANALYSIS=true

# =============================================================================
# CLOUD TASKS CONFIGURATION (only used if USE_ASYNC_PROCESSING=true)
# =============================================================================

CLOUD_TASKS_QUEUE=buildtrace-processing-queue
CLOUD_TASKS_LOCATION=us-central1
CLOUD_TASKS_PROJECT=your-gcp-project
WORKER_URL=https://your-worker-service-url

# =============================================================================
# FIREBASE AUTHENTICATION (only used if USE_FIREBASE_AUTH=true)
# =============================================================================

FIREBASE_PROJECT_ID=your-firebase-project
FIREBASE_PRIVATE_KEY_ID=your-firebase-key-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email
FIREBASE_CLIENT_ID=your-firebase-client-id

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

LOG_LEVEL=INFO
ENABLE_METRICS=false
SENTRY_DSN=your-sentry-dsn-for-error-tracking